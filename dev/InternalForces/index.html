<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>InternalForces · StructuresKit.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="StructuresKit.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">StructuresKit.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Primitives</span><ul><li><a class="tocitem" href="../Beam/">Beam</a></li><li><a class="tocitem" href="../BeamColumn/">BeamColumn</a></li><li><a class="tocitem" href="../Connections/">Connections</a></li></ul></li><li><a class="tocitem" href="../Assembly/">Assembly</a></li><li><span class="tocitem">Analysis</span><ul><li><a class="tocitem" href="../Solve/">Solve</a></li><li class="is-active"><a class="tocitem" href>InternalForces</a><ul class="internal"><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li><li><a class="tocitem" href="#Nomenclature"><span>Nomenclature</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#Numerical-solution"><span>Numerical solution</span></a></li><li><a class="tocitem" href="#Verification-and-testing-log"><span>Verification and testing log</span></a></li></ul></li><li><a class="tocitem" href="../CrossSection/">CrossSection</a></li></ul></li><li><span class="tocitem">Codes and Standards</span><ul><li><a class="tocitem" href="../AISIS10016/">AISI S100-16</a></li><li><a class="tocitem" href="../AISIS10024/">AISI S100-24</a></li></ul></li><li><a class="tocitem" href="../Visualize/">Visualization</a></li><li><span class="tocitem">Applications</span><ul><li><a class="tocitem" href="../PurlinDesigner/">PurlinDesigner</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Analysis</a></li><li class="is-active"><a href>InternalForces</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>InternalForces</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/runtosolve/StructuresKit.jl/blob/master/docs/src/InternalForces.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="InternalForces"><a class="docs-heading-anchor" href="#InternalForces">InternalForces</a><a id="InternalForces-1"></a><a class="docs-heading-anchor-permalink" href="#InternalForces" title="Permalink"></a></h1><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><p>Calculate internal forces and moments from a structural member&#39;s deformed shape.</p><h2 id="Nomenclature"><a class="docs-heading-anchor" href="#Nomenclature">Nomenclature</a><a id="Nomenclature-1"></a><a class="docs-heading-anchor-permalink" href="#Nomenclature" title="Permalink"></a></h2><p>Positive deformations and twist are defined in the figure below. Positive internal moments, bimoment, and torsion follow the right hand rule.  </p><p><img src="../assets/beamaxes.png" alt="Nomenclature"/></p><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><p><code>M = d2Δ/dz2*E*I</code></p><pre><code class="language-julia">M = moment(z, Δ, E, I)</code></pre><p><code>V = d3Δ/dz3*E*I</code></p><pre><code class="language-julia">V = shear(z, Δ, E, I)</code></pre><p><code>T = GJ*dϕ/dz - ECw*dϕ3/dz3</code></p><pre><code class="language-julia">T = torsion(z, ϕ, E, G, J, Cw)</code></pre><p><code>B = ECwd2ϕ/dz</code></p><pre><code class="language-julia">B = bimoment(z, ϕ, E, Cw)</code></pre><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><p>Calculate the internal forces and moments for a 25 ft. simple span Z-section purlin.  Consistent units of kips and inches are used.  The purlin is loaded at the center of the top flange with a uniform downward gravity load.</p><pre><code class="language-julia">
using StructuresKit

#calculate beam deformed shape with PlautBeam

#L dL SectionProperties MaterialProperties LoadLocation BracingProperties CrossSectionDimensions
memberDefinitions = [(25*12, 6.0, 1, 1, 1, 1, 1)]

#location where u=v=ϕ=0
supports = [0.0 25.0*12]

#end boundary conditions
#type=1 u&#39;&#39;=v&#39;&#39;=ϕ&#39;&#39;=0 (simply supported), type=2 u&#39;=v&#39;=ϕ&#39;=0  (fixed), type=3 u&#39;&#39;=v&#39;&#39;=ϕ&#39;&#39;=u&#39;&#39;&#39;=v&#39;&#39;&#39;=ϕ&#39;&#39;&#39;=0 (free end, e.g., a cantilever)
endBoundaryConditions = [1 1]

                      #Ix Iy Ixy J Cw
sectionProperties = [(9.18, 1.28, -2.47, 0.00159, 15.1)]

                          #E  ν
materialProperties = [(29500, 0.30)]

                        #ax         ay
loadLocation = [((2.250-0.070/2)/2, 4.0)]

                      #kx  kϕ
springStiffness = [(0.0, 0.0)]

             #qx   qy
uniformLoad=(0.0, 0.001)

z, u, v, ϕ, beamProperties = PlautBeam.solve(memberDefinitions, sectionProperties, materialProperties, loadLocation, springStiffness, endBoundaryConditions, supports, uniformLoad)


#note -u and -v below because PlautBeam positive deformation directions are reversed
Mxx = InternalForces.moment(z, -v, beamProperties.E, beamProperties.Ix)
Myy = InternalForces.moment(z, -u, beamProperties.E, beamProperties.Iy)
Vyy = InternalForces.shear(z, -v, beamProperties.E, beamProperties.Ix)
Vxx = InternalForces.shear(z, -u, beamProperties.E, beamProperties.Iy)
T = InternalForces.torsion(z, ϕ, beamProperties.E, beamProperties.G, beamProperties.J, beamProperties.Cw)
B = InternalForces.bimoment(z, ϕ, beamProperties.E, beamProperties.Cw)


#plot beam moment, shear, torsion, and bimoment

using Plots
plot(z, Mxx)
plot(z, Myy)
plot(z, Vyy)
plot(z, Vxx)
plot(z, T)
plot(z, B)
</code></pre><h2 id="Numerical-solution"><a class="docs-heading-anchor" href="#Numerical-solution">Numerical solution</a><a id="Numerical-solution-1"></a><a class="docs-heading-anchor-permalink" href="#Numerical-solution" title="Permalink"></a></h2><p>Internal forces and moments are calculated with finite difference derivative operators, e.g., <code>Mxx=Azz*v*E*I</code>.  Derivative operators are defined using <a href="https://github.com/SciML/DiffEqOperators.jl">DiffEqOperators.jl</a>.  </p><h2 id="Verification-and-testing-log"><a class="docs-heading-anchor" href="#Verification-and-testing-log">Verification and testing log</a><a id="Verification-and-testing-log-1"></a><a class="docs-heading-anchor-permalink" href="#Verification-and-testing-log" title="Permalink"></a></h2><h3 id="InternalForcesTest1.jl"><a class="docs-heading-anchor" href="#InternalForcesTest1.jl">InternalForcesTest1.jl</a><a id="InternalForcesTest1.jl-1"></a><a class="docs-heading-anchor-permalink" href="#InternalForcesTest1.jl" title="Permalink"></a></h3><p>Test moment and shear calculation for a simply-supported beam.</p><h3 id="InternalForcesTest2.jl"><a class="docs-heading-anchor" href="#InternalForcesTest2.jl">InternalForcesTest2.jl</a><a id="InternalForcesTest2.jl-1"></a><a class="docs-heading-anchor-permalink" href="#InternalForcesTest2.jl" title="Permalink"></a></h3><p>Test torsion calculation for a simply-supported beam with twist fixed warping free ends. ax=1.0 in., offset uniform load</p><h3 id="InternalForcesTest3.jl"><a class="docs-heading-anchor" href="#InternalForcesTest3.jl">InternalForcesTest3.jl</a><a id="InternalForcesTest3.jl-1"></a><a class="docs-heading-anchor-permalink" href="#InternalForcesTest3.jl" title="Permalink"></a></h3><p>Test shear and moment calculations for a cantilever beam.</p><h3 id="InternalForcesTest4.jl"><a class="docs-heading-anchor" href="#InternalForcesTest4.jl">InternalForcesTest4.jl</a><a id="InternalForcesTest4.jl-1"></a><a class="docs-heading-anchor-permalink" href="#InternalForcesTest4.jl" title="Permalink"></a></h3><p>Test shear and moment calculations for a three span continuous beam.</p><h3 id="InternalForcesTest5.jl"><a class="docs-heading-anchor" href="#InternalForcesTest5.jl">InternalForcesTest5.jl</a><a id="InternalForcesTest5.jl-1"></a><a class="docs-heading-anchor-permalink" href="#InternalForcesTest5.jl" title="Permalink"></a></h3><p>Test bimoment calculation for a simple span beam.</p><h3 id="Tests-needed"><a class="docs-heading-anchor" href="#Tests-needed">Tests needed</a><a id="Tests-needed-1"></a><a class="docs-heading-anchor-permalink" href="#Tests-needed" title="Permalink"></a></h3><p>None at this time</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Solve/">« Solve</a><a class="docs-footer-nextpage" href="../CrossSection/">CrossSection »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 20 October 2020 15:52">Tuesday 20 October 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
